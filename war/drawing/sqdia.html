<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Sequence diagram on html5</title>
    <script src="./js/lifeline.js" type="text/javascript"></script>
</head>
<body>
<canvas id="c" width="500" height="375" style="border:1px dotted;float:left" onclick="draw();return false"></canvas>

<script type="text/javascript">




    function draw_grid(ctx) {
        try {/* vertical lines */
            for (var x = 0.5; x < 500; x += 10) {
                ctx.moveTo(x, 0);
                ctx.lineTo(x, 375);
            }
            /* horizontal lines */
            for (var y = 0.5; y < 375; y += 10) {
                ctx.moveTo(0, y);
                ctx.lineTo(500, y);
            }
            /* draw it! */
            ctx.strokeStyle = "#eee";
            ctx.stroke();
        } catch(err) {
        }
    }
    function draw_arrows(ctx) {
        try {/* x-axis */
            ctx.beginPath();
            ctx.moveTo(0, 40);
            ctx.lineTo(240, 40);
            ctx.moveTo(260, 40);
            ctx.lineTo(500, 40);
            ctx.moveTo(495, 35);
            ctx.lineTo(500, 40);
            ctx.lineTo(495, 45);
            /* y-axis */
            ctx.moveTo(60, 0);
            ctx.lineTo(60, 153);
            ctx.moveTo(60, 173);
            ctx.lineTo(60, 375);
            ctx.moveTo(65, 370);
            ctx.lineTo(60, 375);
            ctx.lineTo(55, 370);
            /* draw it! */
            ctx.strokeStyle = "#000";
            ctx.stroke();
        } catch(err) {
        }
    }
    function draw_labels(ctx) {
        try {
            ctx.font = "bold 12px sans-serif";
            ctx.fillText("x", 248, 43);
            ctx.fillText("y", 58, 165);
        } catch(err) {
        }
        try {
            ctx.textBaseline = "top";
            ctx.fillText("( 0 , 0 )", 8, 5);
        } catch(err) {
        }
        try {
            ctx.textAlign = "right";
            ctx.textBaseline = "bottom";
            ctx.fillText("( 500 , 375 )", 492, 370);
        } catch(err) {
        }
    }
    function draw_dots(ctx) {
        try {
            ctx.fillRect(0, 0, 3, 3);
            ctx.fillRect(497, 372, 3, 3);
        } catch(err) {
        }
    }

    function draw() {
        var c = document.getElementById("c");
        var ctx = c.getContext("2d");
        var lifelineDrawer = new LifeLineDrawer(ctx, "LegacyReporter", 200);
        lifelineDrawer.draw();

        draw_grid(ctx);
        draw_arrows(ctx);
        draw_labels(ctx);
        draw_dots(ctx);

    }

</script>

</body>
</html>